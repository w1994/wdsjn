package pl.edu.agh;

import org.junit.Test;
import org.nd4j.shade.jackson.core.JsonProcessingException;
import org.nd4j.shade.jackson.databind.ObjectMapper;

import java.util.Arrays;
import java.util.List;
import java.util.Map;

import static org.junit.Assert.*;


public class CorpusTest {

    @Test
    public void testGenerator() throws JsonProcessingException {
        //given

        List<String> list = Arrays.asList("1", "2", "3", "4", "4", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24");
        Corpus corpus = new Corpus(list, 6);

        //then
        ObjectMapper objectMapper = new ObjectMapper();
        System.out.println(objectMapper.writeValueAsString(corpus.getWordsCooccurrences()));

        assertEquals("{\"11\":{\"12\":1,\"13\":1,\"14\":1,\"4\":1,\"15\":1,\"16\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":1},\"22\":{\"23\":1,\"24\":1,\"16\":1,\"17\":1,\"18\":1,\"19\":1,\"20\":1,\"21\":1},\"12\":{\"11\":1,\"13\":1,\"14\":1,\"15\":1,\"16\":1,\"6\":1,\"17\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":1},\"23\":{\"22\":1,\"24\":1,\"17\":1,\"18\":1,\"19\":1,\"20\":1,\"21\":1},\"13\":{\"11\":1,\"12\":1,\"14\":1,\"15\":1,\"16\":1,\"17\":1,\"7\":1,\"18\":1,\"8\":1,\"9\":1,\"10\":1},\"24\":{\"22\":1,\"23\":1,\"18\":1,\"19\":1,\"20\":1,\"21\":1},\"14\":{\"11\":1,\"12\":1,\"13\":1,\"15\":1,\"16\":1,\"17\":1,\"18\":1,\"8\":1,\"19\":1,\"9\":1,\"10\":1},\"15\":{\"11\":1,\"12\":1,\"13\":1,\"14\":1,\"16\":1,\"17\":1,\"18\":1,\"19\":1,\"9\":1,\"20\":1,\"10\":1},\"16\":{\"11\":1,\"12\":1,\"13\":1,\"14\":1,\"15\":1,\"17\":1,\"18\":1,\"19\":1,\"20\":1,\"10\":1,\"21\":1},\"17\":{\"11\":1,\"22\":1,\"12\":1,\"13\":1,\"14\":1,\"15\":1,\"16\":1,\"18\":1,\"19\":1,\"20\":1,\"21\":1},\"18\":{\"22\":1,\"12\":1,\"23\":1,\"13\":1,\"14\":1,\"15\":1,\"16\":1,\"17\":1,\"19\":1,\"20\":1,\"21\":1},\"19\":{\"22\":1,\"23\":1,\"13\":1,\"24\":1,\"14\":1,\"15\":1,\"16\":1,\"17\":1,\"18\":1,\"20\":1,\"21\":1},\"1\":{\"2\":1,\"3\":1,\"4\":2,\"6\":1},\"2\":{\"1\":1,\"3\":1,\"4\":2,\"6\":1,\"7\":1},\"3\":{\"1\":1,\"2\":1,\"4\":2,\"6\":1,\"7\":1,\"8\":1},\"4\":{\"1\":2,\"2\":2,\"3\":2,\"6\":2,\"7\":2,\"8\":2,\"9\":2,\"10\":1},\"6\":{\"11\":1,\"1\":1,\"2\":1,\"3\":1,\"4\":2,\"7\":1,\"8\":1,\"9\":1,\"10\":1},\"7\":{\"11\":1,\"1\":1,\"12\":1,\"2\":1,\"3\":1,\"4\":2,\"6\":1,\"8\":1,\"9\":1,\"10\":1},\"8\":{\"11\":1,\"12\":1,\"2\":1,\"13\":1,\"3\":1,\"4\":2,\"6\":1,\"7\":1,\"9\":1,\"10\":1},\"9\":{\"11\":1,\"12\":1,\"13\":1,\"3\":1,\"14\":1,\"4\":2,\"6\":1,\"7\":1,\"8\":1,\"10\":1},\"20\":{\"22\":1,\"23\":1,\"24\":1,\"14\":1,\"15\":1,\"16\":1,\"17\":1,\"18\":1,\"19\":1,\"21\":1},\"10\":{\"11\":1,\"12\":1,\"13\":1,\"14\":1,\"4\":2,\"15\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1},\"21\":{\"22\":1,\"23\":1,\"24\":1,\"15\":1,\"16\":1,\"17\":1,\"18\":1,\"19\":1,\"20\":1}}", objectMapper.writeValueAsString(corpus.getWordsCooccurrences()));

    }

    @Test
    public void testWordsOccurrencesCalculator() throws JsonProcessingException {
        //given
        List<String> list = Arrays.asList("1", "2", "3", "4", "4", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24");
        Corpus corpus = new Corpus(list, 6);

        //then
        Map map = corpus.getWordsOccurrences();

        assertEquals(2L,map.get("4"));

    }
}